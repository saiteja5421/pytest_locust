
## To run the test suite
```
pytest -sv --ignore=tests/data_panaroma/data_creation_for_ui_tests -m validated tests/data_panaroma/
```
Note: We need not to run UI test data creation so ignoring it during execution. -m validated will execute the test cases which are hardened and validated

## Data panorama areas covered
Consumption </br>
Inventory </br>
App lineage </br>

Prerequisite: </br>
To run these test cases Data should be uploaded to S3 bucket where all the collection json will reside for processed by ETL.
These tests can be executed only in CCS-DEV environment not in Sandbox cluster.
In sandbox cluster we can't delete the DB and recreate at will so these tests can be executed only in CCS-Dev environment which is a kubernetes cluster with data observability related microservices deployed.

```
https://confluence.eng.nimblestorage.com/display/IFP/PQA+CCS+DEV+cluster+details#PQACCSDEVclusterdetails-DNSdetails
Note: CCS-Dev cluster details available in above confluence page
```

## Data panorama test design


![Datapanorama_QA_design](https://media.github.hpe.com/user/54977/files/d828bbe3-ce78-45d4-823a-f3d1e04e204f)

## Curl commands
You can run the curl commands mentioned in curl.txt file to test from your dev environment whether you can run
rest calls.
```
# If you run from vscode terminal you can pipe the result to vscode as below
curl --location --request GET "$url/data-observability/v1alpha1/volumes-consumption" --header "Authorization: Bearer $ccs_token" | jq . | code -

# you can also pipe the result to vi editor when run from putty. below is the example
curl --location --request GET "$url/data-observability/v1alpha1/volumes-consumption" --header "Authorization: Bearer $ccs_token" | jq . | vi -

# If you face "host not reachable : you have to add thd DNS entry as below in /etc/resolv.conf file
# The order of the DNS entry also matters so follow the order

# Generated by NetworkManager
nameserver 10.239.73.22
nameserver 10.35.0.1
nameserver 10.241.25.161
```
